var start,clickCounter={};clickCounter.time=[];clickCounter.coordinates=[];var clickNo=0,BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(e){for(var t=0;t<e.length;t++){var n=e[t].string,r=e[t].prop;this.versionSearchString=e[t].versionSearch||e[t].identity;if(n){if(n.indexOf(e[t].subString)!=-1)return e[t].identity}else if(r)return e[t].identity}},searchVersion:function(e){var t=e.indexOf(this.versionSearchString);if(t==-1)return;return parseFloat(e.substring(t+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};BrowserDetect.init();$(document).ready(function(){function r(){$("#numbers > div").each(function(){var e=(Math.random()*($("#numbers").width()-80)).toFixed(),t=(Math.random()*($("#numbers").height()-80)).toFixed();$(this).animate({position:"absolute","margin-left":e+"px","margin-top":t+"px"},7e3,function(){r()}).delay(Math.random()*3e3)})}function h(e){var t=0;for(i=0;i<c.length;i++){var n=c[i];if(e.x+e.width<n.x)continue;if(n.x+n.width<e.x)continue;if(e.y+e.height<n.y)continue;if(n.y+n.height<e.y)continue;var r=Math.max(e.x,n.x),s=Math.max(e.y,n.y),o=Math.min(e.x+e.width,n.x+n.width),u=Math.min(e.y+e.height,n.y+n.height),a=(r-o)*(s-u);t+=a}return t}function p(){c.splice(0,c.length);var e=0;$(".stars").each(function(){var t=0,n=0,r=0,i=9007199254740992,s,p;for(r=0;r<o;r++){t=Math.round(u+(a-u)*(Math.random()%1));n=Math.round(f+(l-f)*(Math.random()%1));p={x:t,y:n,width:$(this).width(),height:$(this).height()};var d=h(p);if(d<i){i=d;s=p}if(d===0)break}c.push(s);$(this).css({position:"absolute","z-index":e++,left:t,top:n})});return!1}jQuery.fx.interval=30;start=(new Date).getTime();var e=screen.height,t=screen.width,n=t+"x"+e;setTimeout(function(){$(".alert-success").fadeOut(2500)},1e3);$("#frm-screenTestForm input[name='screen']").val(n);$("span.clickable").click(function(){$(this).toggleClass("checked")});r();var s=$(".contrastBlack-wp"),o=10,u=0,a=s.width()-60,f=0,l=s.height()-63,c=new Array;p();$("#contrast-wp, #contrastBlack-wp").click(function(e){if(e.target.id=="contrast-wp"||e.target.id=="contrastBlack-wp"){clickNo+=1;clickCounter.onClick=clickNo;clicker=(new Date).getTime();clickCounter.time[clickNo-1]=clicker-start;clickCounter.coordinates[clickNo-1]=[e.clientX,e.clientY]}});var d=17,v=65,m=91;$(document).keydown(function(e){if(e.keyCode==d)return!1;if(e.keyCode==v)return!1;if(e.keyCode==m)return!1});(function(e){e.fn.disableSelection=function(){return this.attr("unselectable","on").css("user-select","none").on("selectstart",!1)}})(jQuery);$("body:not(select)").disableSelection();$(document).bind("contextmenu",function(e){e.preventDefault()});$("#frmscreenTestForm-submit").click(function(e){e.preventDefault();end=(new Date).getTime();finalTime=end-start;clickCounter_string=JSON.stringify(clickCounter);$("#frm-screenTestForm input[name='focusTime']").val(finalTime);$("#frm-screenTestForm input[name='clickNo']").val(clickNo);$("#frm-screenTestForm input[name='clickCounter']").val(clickCounter_string);$("#frm-screenTestForm input[name='browser']").val(BrowserDetect.browser+" "+BrowserDetect.version+" on "+BrowserDetect.OS);if($("#smallestVisible input[type=radio]:checked").length<1){$("#smallestVisible").addClass("checkbox-error");alert("Please select smallest visible number")}else if($("#highestVisible input[type=radio]:checked").length<1){$("#highestVisible").addClass("checkbox-error");alert("Please select highest visible number")}else $("#frm-screenTestForm").submit()})});